<?xml version="1.0" encoding="UTF-8"?>
<database name="artistfan" defaultIdMethod="native">


    <table name="user" phpName="User">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>

        <column name="email" type="varchar" required="true" defaultValue=""/>
        <column name="status" type="tinyint" size="3" defaultValue="0"/>
        <column name="email_confirmed" type="tinyint" size="1" defaultValue="0"/>

        <column name="first_name" type="varchar" size="26" defaultValue=""/>
        <column name="last_name" type="varchar" size="26" defaultValue=""/>
        <column name="band_name" type="varchar" size="150" defaultValue=""/>
        <column name="name" type="varchar" size="40" defaultValue=""/>
        <column name="pass" type="varchar" size="100" defaultValue=""/>
        <column name="avatar" type="varchar" size="100" defaultValue=""/>
        <column name="country" type="varchar" size="2" defaultValue=""/>
        <column name="location" type="varchar" size="250" defaultValue=""/>
        <column name="hide_loc" type="tinyint" size="1" defaultValue="0" />
        <column name="zip" type="varchar" size="20" defaultValue="" />
        <column name="about" type="longvarchar"/>
        <column name="likes" type="varchar" size="250" defaultValue=""/>

        <column name="years_active" size="250" type="varchar"/>
        <column name="genres" size="250" type="varchar"/>
        <column name="members" type="longvarchar"/>
        <column name="website" size="250" type="varchar"/>
        <column name="bio" type="longvarchar"/>
        <column name="record_label" type="longvarchar"/>
        <column name="record_label_link" type="longvarchar"/>

        <column name="dob" type="date" defaultValue="0000-00-00"/>
        <column name="gender" type="tinyint" size="2" defaultValue="0"/>


        <column name="checksum" type="varchar" size="250" defaultValue=""/>
        <column name="ip" type="varchar" size="15" defaultValue=""/>

        <column name="last_login" type="integer" size="11" defaultValue="0"/>
        <column name="last_reload" type="integer" size="11" defaultValue="0"/>

        <column name="blocked" type="tinyint" size="3" defaultValue="0"/>
        <column name="block_reason" type="varchar" size="250" defaultValue=""/>

        <column name="reg_date" type="integer" size="11" defaultValue="0"/>

        <column name="wallet" type="float" defaultValue="0"/>
        <column name="wallet_block" type="float" defaultValue="0"/>
        
        <column name="fb_id" type="varchar" size="100" defaultValue=""/>
        <column name="fb_token" type="varchar" size="200" defaultValue=""/>
        <column name="fb_start" type="integer" size="1" defaultValue="0"/>
        <column name="tw_start" type="integer" size="1" defaultValue="0"/>
        <column name="tw_id" type="varchar" size="100" defaultValue=""/>
        <column name="tw_oauth_token" type="varchar" size="200" defaultValue=""/>
        <column name="tw_oauth_token_secret" type="varchar" size="200" defaultValue=""/>

        <column name="featured" type="tinyint" size="1" defaultValue="0"/>

        <column name="is_admin" type="tinyint" size="1" defaultValue="0"/>

        <index>
            <index-column name="email"/>
        </index>
        <index>
            <index-column name="status"/>
        </index>
    </table>


    <table name="user_follow" phpName="UserFollow">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>

        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="user_id_follow" type="integer" size="11" defaultValue="0"/>

        <column name="fan_rating" type="float" defaultValue="0"/>
        
        <foreign-key foreignTable="user" phpName="UserFromK">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="user" phpName="UserToK">
            <reference local="user_id_follow" foreign="id"/>
        </foreign-key>

        <index>
            <index-column name="user_id"/>
            <index-column name="user_id_follow"/>
        </index>
    </table>


    <table name="wall" phpName="Wall">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>

        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="user_id_from" type="integer" size="11" defaultValue="0"/>
        <column name="mesg" type="longvarchar"/>
        <column name="pdate" type="integer" size="1" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="UserToK">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="user" phpName="UserFromK">
            <reference local="user_id_from" foreign="id"/>
        </foreign-key>

        <index>
            <index-column name="user_id"/>
            <index-column name="user_id_from"/>
        </index>
    </table>


    <table name="countries" phpName="Countries">
        <column name="iso2" type="varchar" size="2" required="true" primaryKey="true" />

        <column name="name" type="varchar" size="100" defaultValue=""/>
        <column name="pcode" type="varchar" size="10" defaultValue=""/>

        <column name="sortid" type="integer" size="11" defaultValue="0"/>
        <column name="iso3" type="integer" size="5" defaultValue="0" />

        <index>
            <index-column name="name"/>
            <index-column name="sortid"/>
        </index>
    </table>


    <table name="music_album" phpName="MusicAlbum">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>

        <column name="title" type="varchar" size="250" defaultValue=""/>
        <column name="descr" type="longvarchar"/>
        <column name="date_release" type="date" defaultValue="0000-00-00"/>
        <column name="image" type="varchar" size="100" defaultValue=""/>
        <column name="price" type="float" defaultValue="0"/>

        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="active" type="tinyint" size="1" defaultValue="0"/>
        <column name="deleted" type="tinyint" size="1" defaultValue="0"/>

        <column name="featured" type="tinyint" size="1" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>


    <table name="event" phpName="Event">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="title" type="varchar" defaultValue=""/>
        <column name="descr" type="longvarchar"/>

        <column name="event_type" type="integer" size="11" defaultValue="0"/>
        <column name="location" type="varchar"/>

        <column name="price" type="float" defaultValue="0"/>

        <column name="event_date" type="timestamp"/>

        <column name="code" type="varchar" size="50" defaultValue=""/>

        <column name="pdate" type="integer" size="1" defaultValue="0"/>
        <column name="status" type="tinyint" size="1" defaultValue="1"/>
        <column name="deleted" type="tinyint" size="1" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <index>
            <index-column name="event_date"/>
        </index>
    </table>

    <table name="event_attend" phpName="EventAttend">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="event_id" type="integer" size="11" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>


        <foreign-key foreignTable="event" phpName="Event">
            <reference local="event_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="event_purchase" phpName="EventPurchase">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="event_id" type="integer" size="11" defaultValue="0"/>
        <column name="price" type="float" defaultValue="0"/>
        <column name="code" type="varchar" size="250" defaultValue=""/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="event" phpName="Event">
            <reference local="event_id" foreign="id"/>
        </foreign-key>
    </table>


    <table name="music" phpName="Music">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>

        <column name="title" type="varchar" size="250" defaultValue=""/>
        <column name="album_id" type="integer" size="11" defaultValue="0"/>
        <column name="genre" type="varchar" size="250" defaultValue=""/>
        <column name="date_release" type="date" defaultValue="0000-00-00"/>
        <column name="label" type="varchar" size="250" defaultValue=""/>
        <column name="price" type="float" defaultValue="0"/>

        <column name="track" type="varchar" size="100" defaultValue=""/>
        <column name="track_preview" type="varchar" size="100" defaultValue=""/>
        
        <column name="track_length" type="varchar" size="20" defaultValue=""/>
        <column name="track_preview_length" type="varchar" size="20" defaultValue=""/>
        
        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="active" type="tinyint" size="1" defaultValue="0"/>
        <column name="deleted" type="tinyint" size="1" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="music_album" phpName="MusicAlbum">
            <reference local="album_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="music_purchase" phpName="MusicPurchase">
            <reference local="id" foreign="music_id"/>
        </foreign-key>

    </table>


    <table name="music_purchase" phpName="MusicPurchase">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="music_id" type="integer" size="11" defaultValue="0"/>
        <column name="with_all_album" type="tinyint" size="1" defaultValue="0"/>
        <column name="price" type="float" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>


        <foreign-key foreignTable="music" phpName="Music">
            <reference local="music_id" foreign="id"/>
        </foreign-key>
    </table>


    <table name="video" phpName="Video">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>

        <column name="title" type="varchar" size="250" defaultValue=""/>
        <column name="price" type="float" defaultValue="0"/>

        <column name="video" type="varchar" size="250" defaultValue=""/>
        <column name="video_preview" type="varchar" size="250" defaultValue=""/>

        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="active" type="tinyint" size="1" defaultValue="0"/>
        <column name="deleted" type="tinyint" size="1" defaultValue="0"/>
        <column name="from_yt" type="tinyint" size="1" defaultValue="0"/>
        <column name="status" type="tinyint" size="1" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

    </table>

    <table name="video_purchase" phpName="VideoPurchase">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="video_id" type="integer" size="11" defaultValue="0"/>
        <column name="price" type="float" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="video" phpName="Video">
            <reference local="video_id" foreign="id"/>
        </foreign-key>
    </table>

    
    <table name="payout" phpName="Payout">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="payment_info_id" type="integer" size="11" defaultValue="0"/>
        <column name="method" type="integer" size="5" defaultValue="0"/>
        <column name="ptype" type="tinyint" size="1" defaultValue="0"/>

        <column name="money" type="float" defaultValue="0"/>
        <column name="balance" type="float" defaultValue="0"/>
        <column name="status" type="integer" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="user_from" type="integer" size="11" defaultValue="0"/>
        <column name="description" type="longvarchar"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="payment_info" phpName="PaymentInfo">
            <reference local="payment_info_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="shopping_log" phpName="ShoppingLog">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="wall_id" type="integer" size="11" defaultValue="0"/>
        <column name="artist_id" type="integer" size="11" defaultValue="0"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="action" type="varchar" size="15" defaultValue=""/>
        <column name="money" type="float" defaultValue="0"/>

        <column name="album_id" type="integer" size="11" defaultValue="0"/>
        <column name="music_id" type="integer" size="11" defaultValue="0"/>
        <column name="video_id" type="integer" size="11" defaultValue="0"/>
        <column name="event_id" type="integer" size="11" defaultValue="0"/>
        <column name="data" type="varchar" size="255" defaultValue=""/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <index>
            <index-column name="artist_id"/>
        </index>
        <index>
            <index-column name="wall_id"/>
        </index>
    </table>

    <table name="pages" phpName="Pages">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="title" type="varchar" size="255" required="true" />
        <column name="pagename" type="varchar" size="255" required="true" />
        <column name="sortid" type="integer" size="11" defaultValue="0" />
        <column name="story" type="longvarchar" />
        <column name="active" type="tinyint" size="1" defaultValue="1" />
        <column name="pdate" type="integer" size="11" defaultValue="0" />
    </table>


    <table name="photo" phpName="Photo">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>

        <column name="title" type="longvarchar" />
        <column name="album_id" type="integer" size="11" defaultValue="0"/>
        <column name="photo_date" type="date" defaultValue="0000-00-00"/>
        <column name="image" type="varchar" size="100" defaultValue=""/>
        <column name="is_cover" type="tinyint" size="1" defaultValue="0"/>

        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>

        <foreign-key foreignTable="photo_album" phpName="PhotoAlbum">
            <reference local="album_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="photo_album" phpName="PhotoAlbum">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="title" type="varchar" size="250" defaultValue=""/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="payment_info" phpName="PaymentInfo">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="routing_code" type="varchar" size="250" defaultValue=""/>
        <column name="account_number" type="varchar" size="250" defaultValue=""/>
        <column name="holder_name" type="varchar" size="250" defaultValue=""/>
        <column name="account_type" type="tinyint" size="1" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>

        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="broadcast_viewers" phpName="BroadcastViewers">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="event_id" type="varchar" size="250" defaultValue=""/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="udate" type="integer" size="11" defaultValue="0"/>

        <index>
            <index-column name="event_id"/>
            <index-column name="udate"/>
        </index>
        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="broadcast_flows" phpName="BroadcastFlows">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="event_id" type="integer" size="11" defaultValue="0"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        <column name="flow" type="varchar" size="250" defaultValue=""/>
        <column name="status" type="tinyint" size="1" defaultValue="0"/>
        <column name="used" type="integer" size="11" defaultValue="0" />
        <index>
            <index-column name="event_id"/>
        </index>
        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
    </table>

    <table name="event_video" phpName="EventVideo">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
        <column name="event_id" type="integer" size="11" defaultValue="0"/>
        <column name="user_id" type="integer" size="11" defaultValue="0"/>
        <column name="video" type="varchar" size="250" defaultValue=""/>
        <column name="order" type="tinyint" size="3" defaultValue="0"/>
        <column name="pdate" type="integer" size="11" defaultValue="0"/>
        
        <foreign-key foreignTable="user" phpName="User">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="event" phpName="Event">
            <reference local="event_id" foreign="id"/>
        </foreign-key>
    </table>

</database>